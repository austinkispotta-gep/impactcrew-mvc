html { font-size: 14px; }
@media (min-width: 768px){ html { font-size:16px;} }
body { background:#f8fafc; font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif; color:#1a1f29; }
.app-shell { display:flex; min-height:calc(100vh - 40px); gap:18px; }
.side-panel { width:320px; background:#ffffff; border:1px solid #e3e8ef; border-radius:14px; padding:18px 18px 30px; display:flex; flex-direction:column; box-shadow:0 4px 12px rgba(0,0,0,.05); overflow-y:auto; }
.brand-title { font-size:1.4rem; font-weight:600; margin:0; }
.brand-sub { font-size:.75rem; text-transform:uppercase; letter-spacing:.08em; color:#64748b; margin:2px 0 0; }
.section-title { font-size:.70rem; font-weight:600; text-transform:uppercase; letter-spacing:.08em; color:#475569; margin:0 0 6px; }
.panel-section { margin-bottom:20px; }
.upload-group { margin-bottom:10px; }
.hint-box { background:#f1f5f9; border:1px solid #e2e8f0; padding:8px 10px; border-radius:8px; color:#475569; }
.chat-panel { flex:1; position:relative; background:#ffffff; border:1px solid #e3e8ef; border-radius:14px; display:flex; flex-direction:column; box-shadow:0 4px 12px rgba(0,0,0,.05); }
.chat-header { padding:10px 16px; border-bottom:1px solid #e2e8f0; display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; }
.header-right { display:flex; }
.chat-title { font-weight:600; font-size:1rem; }
.session-pill { background:#eff6ff; color:#0369a1; padding:4px 10px; border-radius:20px; font-size:.7rem; font-weight:600; }
.chat-window { flex:1; padding:18px 22px 24px; overflow-y:scroll; scrollbar-gutter:stable; }
.chat-window::-webkit-scrollbar { width:10px; }
.chat-window::-webkit-scrollbar-track { background:transparent; }
.chat-window::-webkit-scrollbar-thumb { background:#cbd5e1; border-radius:20px; }
.chat-footer { padding:10px 16px; border-top:1px solid #e2e8f0; background:#fafafa; }
#chatInputGroup { max-width:820px; margin:0 auto; }
.msg-row { display:flex; margin-bottom:14px; }
.msg-row.user { justify-content:flex-end; }
.msg-row.assistant { justify-content:flex-start; }
.msg-bubble { max-width:70%; padding:12px 14px; line-height:1.4; border-radius:18px; font-size:.9rem; white-space:pre-wrap; word-break:break-word; box-shadow:0 2px 4px rgba(0,0,0,.06); }
.msg-row.user .msg-bubble { background:#2563eb; color:#ffffff; }
.msg-row.assistant .msg-bubble { background:#f1f5f9; color:#1e293b; border:1px solid #e2e8f0; }
.btn { border-radius:10px; }
.btn-primary { background:#2563eb; border-color:#1d4ed8; }
.btn-primary:hover { background:#1d4ed8; }
.btn-outline-secondary { border-color:#cbd5e1; color:#334155; }
.btn-outline-secondary:hover { background:#e2e8f0; color:#1e293b; }
.btn-success { background:#059669; border-color:#047857; }
.btn-success:hover { background:#047857; }
.loading-overlay { position:absolute; left:0; right:0; bottom:0; top:60px; background:rgba(255,255,255,0.6); display:flex; flex-direction:column; align-items:center; justify-content:center; /* removed blur */ border-radius:0 0 14px 14px; }
.footer-hint { text-align:center; }
.alert-info, .alert-danger { box-shadow:0 2px 6px rgba(0,0,0,.08); }
@media (max-width:1100px){ .app-shell{flex-direction:column;} .side-panel{width:100%; order:2;} .chat-panel{order:1;} .loading-overlay{top:90px;} }